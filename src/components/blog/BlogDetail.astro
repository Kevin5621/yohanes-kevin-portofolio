---
import type { BlogPost } from '../../data/blog';
import { ArrowLeft } from 'lucide-react';
import { getWhatsAppLink } from '../../lib/utils';

interface Props {
  post: BlogPost;
  lang: 'en' | 'id';
}

const { post, lang } = Astro.props;

const formatDate = (dateString: string) => {
  const date = new Date(dateString);
  return date.toLocaleDateString(lang === 'en' ? 'en-US' : 'id-ID', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });
};
---

<article class="container mx-auto px-4 py-12 md:py-16">
  {/* Back Button - Minimalist */}
  <div class="mb-8">
    <a 
      href={`/${lang}/blog`}
      class="inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors group"
    >
      <ArrowLeft className="w-4 h-4 group-hover:-translate-x-1 transition-transform" />
      <span class="text-sm">{lang === 'en' ? 'Back to Blog' : 'Kembali ke Blog'}</span>
    </a>
  </div>

  {/* Header - Minimalist */}
  <header class="mb-12 pb-8 border-b border-border/30">
    <div class="mb-4">
      <span class="text-xs text-muted-foreground uppercase tracking-wider">
        {post.category}
      </span>
    </div>
    
    <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-4 tracking-tight leading-tight">
      {post.title}
    </h1>
    
    <p class="text-xl md:text-2xl text-muted-foreground mb-6 leading-relaxed max-w-3xl">
      {post.excerpt}
    </p>

    {/* Meta Information - Minimalist */}
    <div class="flex items-center gap-4 text-sm text-muted-foreground">
      <span>{post.author}</span>
      <span>·</span>
      <span>{formatDate(post.date)}</span>
      <span>·</span>
      <span>{post.readTime}</span>
    </div>
  </header>

  {/* Content - Minimalist */}
  <div class="max-w-3xl">
    <div class="space-y-6 text-lg leading-relaxed text-foreground">
      {post.content.split('\n\n').map((paragraph, index) => (
        <p class="leading-relaxed">{paragraph}</p>
      ))}
    </div>
    
    {/* Key Takeaways - Minimalist */}
    <div class="mt-12 pt-8 border-t border-border/30">
      <h3 class="text-xl font-bold mb-4">
        {lang === 'en' ? 'Key Takeaways' : 'Poin Penting'}
      </h3>
      <ul class="space-y-3 text-muted-foreground">
        <li class="flex items-start gap-3">
          <span class="text-foreground mt-1">•</span>
          <span>{lang === 'en' ? 'Choose the right technology stack for your project needs' : 'Pilih teknologi yang tepat sesuai kebutuhan proyek Anda'}</span>
        </li>
        <li class="flex items-start gap-3">
          <span class="text-foreground mt-1">•</span>
          <span>{lang === 'en' ? 'Focus on performance and user experience' : 'Fokus pada performa dan pengalaman pengguna'}</span>
        </li>
        <li class="flex items-start gap-3">
          <span class="text-foreground mt-1">•</span>
          <span>{lang === 'en' ? 'Consider long-term maintenance and scalability' : 'Pertimbangkan pemeliharaan jangka panjang dan skalabilitas'}</span>
        </li>
      </ul>
    </div>
  </div>

  {/* Tags - Minimalist */}
  {post.tags.length > 0 && (
    <div class="mt-12 pt-8 border-t border-border/30">
      <div class="flex flex-wrap gap-2">
        {post.tags.map(tag => (
          <span class="text-sm text-muted-foreground hover:text-foreground transition-colors">
            #{tag}
          </span>
        ))}
      </div>
    </div>
  )}

  {/* CTA Section - Minimalist */}
  <div class="mt-16 pt-12 border-t border-border/30">
    <div class="text-center max-w-xl mx-auto">
      <h3 class="text-2xl md:text-3xl font-bold mb-4">
        {lang === 'en' ? 'Ready to Build Your Project?' : 'Siap Membangun Proyek Anda?'}
      </h3>
      <p class="text-muted-foreground mb-8 leading-relaxed">
        {lang === 'en' 
          ? 'Let\'s discuss how we can help bring your ideas to life.'
          : 'Mari diskusikan bagaimana kami dapat membantu mewujudkan ide Anda.'}
      </p>
      <div class="flex justify-center">
        <a 
          href={getWhatsAppLink('footer', lang)}
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center justify-center px-8 py-4 text-base font-bold text-white transition-all duration-200 bg-brand rounded-full hover:bg-brand/90 hover:shadow-lg hover:shadow-brand/20"
        >
          {lang === 'en' ? 'Get Started' : 'Mulai Sekarang'}
        </a>
      </div>
    </div>
  </div>
</article>

