---
import { Users, Building2 } from 'lucide-react';
import { getWhatsAppLink } from '../../lib/utils';
import { LottieIcon } from '../ui/LottieIcon';

const { lang } = Astro.props;

const content = {
  id: {
    eyebrow: "Solusi Enterprise",
    title: "Dibangun dengan",
    titleHighlight: "Kepercayaan",
    description: "Sistem enterprise bukan sekedar software. Ini adalah investasi jangka panjang yang akan mengubah cara bisnis Anda beroperasi.",
    story: "Setiap perusahaan besar punya cerita yang berbeda. Workflow yang unik, proses yang kompleks, dan kebutuhan yang spesifik. Kami tidak menjual paket jadi — kami membangun sistem yang benar-benar sesuai dengan DNA bisnis Anda.",
    cta: {
      title: "By Consultation Only",
      subtitle: "Rp 150.000.000 – 1.500.000.000",
      budgetLabel: "Typical budget",
      timeline: "3–12 bulan",
      timelineLabel: "Timeline",
      description: "Hubungi kami untuk discovery call. Kami akan memahami kebutuhan Anda, lalu membuat proposal custom yang tepat.",
      button: "Request Proposal"
    },
    crm: {
      title: "CRM & Sales Management",
      icon: "/icon/enterprise-development.gif",
      story: "Tingkatkan penjualan dengan sistem yang memahami pipeline Anda. Dari lead management hingga customer retention — semua dalam satu platform.",
      features: [
        "Lead Management",
        "Sales Pipeline",
        "Analytics & Reports",
        "Customer Retention"
      ]
    },
    erp: {
      title: "ERP & Business Management",
      icon: "/icon/strategic-consulting.gif",
      story: "Integrasikan seluruh operasi bisnis Anda. Dari inventory hingga finance, dari HR hingga production — semuanya terhubung dan otomatis.",
      features: [
        "Inventory Management",
        "Financial Control",
        "HR Management",
        "Production Flow"
      ]
    }
  },
  en: {
    eyebrow: "Enterprise Solutions",
    title: "Built on",
    titleHighlight: "Trust",
    description: "Enterprise systems aren't just software. They're long-term investments that will transform how your business operates.",
    story: "Every large company has a different story. Unique workflows, complex processes, and specific needs. We don't sell ready-made packages — we build systems that truly match your business DNA.",
    cta: {
      title: "By Consultation Only",
      subtitle: "IDR 150,000,000 – 1,500,000,000",
      budgetLabel: "Typical budget",
      timeline: "3–12 months",
      timelineLabel: "Timeline",
      description: "Contact us for a discovery call. We'll understand your needs, then create a custom proposal that fits.",
      button: "Request Proposal"
    },
    crm: {
      title: "CRM & Sales Management",
      icon: "/icon/enterprise-development.gif",
      story: "Boost sales with a system that understands your pipeline. From lead management to customer retention — all in one platform.",
      features: [
        "Lead Management",
        "Sales Pipeline",
        "Analytics & Reports",
        "Customer Retention"
      ]
    },
    erp: {
      title: "ERP & Business Management",
      icon: "/icon/strategic-consulting.gif",
      story: "Integrate all your business operations. From inventory to finance, from HR to production — everything connected and automated.",
      features: [
        "Inventory Management",
        "Financial Control",
        "HR Management",
        "Production Flow"
      ]
    }
    }
  }


const t = content[lang as keyof typeof content] as typeof content.en;
---

<section class="py-24 md:py-32 lg:py-40 relative">
  <!-- Section divider with glow -->
  <div class="absolute top-0 left-0 right-0 h-px bg-linear-to-r from-transparent via-border to-transparent"></div>
  <div class="absolute top-0 left-0 right-0 h-0.5 bg-linear-to-r from-transparent via-brand/20 to-transparent blur-sm"></div>
  
  <div class="container mx-auto px-4">
    <!-- Section Header -->
    <div class="max-w-4xl mb-16 md:mb-24">
      <span class="inline-block text-brand text-sm font-medium uppercase tracking-[0.2em] mb-4">
        {t.eyebrow}
      </span>
      <h2 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight text-foreground mb-6 leading-[1.1]">
        {t.title} <span class="text-brand">{t.titleHighlight}</span>
      </h2>
      <p class="text-lg md:text-xl text-muted-foreground leading-relaxed mb-4 max-w-2xl">
        {t.description}
      </p>
      <p class="text-base md:text-lg text-muted-foreground/80 leading-relaxed max-w-2xl">
        {t.story}
      </p>
    </div>

    <!-- CRM & ERP Grid -->
    <div class="grid lg:grid-cols-2 gap-8 mb-16 md:mb-24">
      <!-- CRM Card -->
      <article class="group relative bg-card border border-border/50 rounded-3xl p-8 md:p-12 shadow-xl shadow-foreground/10 hover:border-brand/30 hover:shadow-2xl hover:shadow-brand/15 hover:-translate-y-2 transition-all duration-500">
        <!-- Subtle gradient overlay -->
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_80%_20%,rgba(59,130,246,0.05),transparent_60%)] rounded-3xl"></div>
        <!-- Icon -->
        <div class="mb-8 relative z-10">
          <LottieIcon 
            src={t.crm.icon} 
            className="w-24 h-24 md:w-28 md:h-28"
            client:only="react"
          />
        </div>
        
        <!-- Content -->
        <h3 class="text-2xl md:text-3xl font-bold text-foreground mb-4 leading-tight">
          {t.crm.title}
        </h3>
        <p class="text-muted-foreground leading-relaxed mb-8">
          {t.crm.story}
        </p>
        
        <!-- Feature Pills -->
        <div class="flex flex-wrap gap-3 relative z-10">
          {t.crm.features.map((feature: string) => (
            <span class="inline-flex items-center gap-2 px-4 py-2 bg-muted/50 rounded-full text-sm text-foreground/80 border border-border/30 hover:border-brand/30 hover:bg-brand/5 transition-colors shadow-sm">
              <span class="w-1.5 h-1.5 rounded-full bg-brand"></span>
              {feature}
            </span>
          ))}
        </div>
      </article>

      <!-- ERP Card -->
      <article class="group relative bg-card border border-border/50 rounded-3xl p-8 md:p-12 shadow-xl shadow-foreground/10 hover:border-brand/30 hover:shadow-2xl hover:shadow-brand/15 hover:-translate-y-2 transition-all duration-500">
        <!-- Subtle gradient overlay -->
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_20%_80%,rgba(139,92,246,0.05),transparent_60%)] rounded-3xl"></div>
        <!-- Icon -->
        <div class="mb-8 relative z-10">
          <LottieIcon 
            src={t.erp.icon} 
            className="w-24 h-24 md:w-28 md:h-28"
            client:only="react"
          />
        </div>
        
        <!-- Content -->
        <h3 class="text-2xl md:text-3xl font-bold text-foreground mb-4 leading-tight">
          {t.erp.title}
        </h3>
        <p class="text-muted-foreground leading-relaxed mb-8">
          {t.erp.story}
        </p>
        
        <!-- Feature Pills -->
        <div class="flex flex-wrap gap-3 relative z-10">
          {t.erp.features.map((feature: string) => (
            <span class="inline-flex items-center gap-2 px-4 py-2 bg-muted/50 rounded-full text-sm text-foreground/80 border border-border/30 hover:border-brand/30 hover:bg-brand/5 transition-colors shadow-sm">
              <span class="w-1.5 h-1.5 rounded-full bg-brand"></span>
              {feature}
            </span>
          ))}
        </div>
      </article>
    </div>

    <!-- CTA Section - Premium Consultation Box -->
    <div class="relative bg-linear-to-br from-foreground to-foreground/90 dark:from-card dark:to-card/90 rounded-3xl p-8 md:p-12 lg:p-16 overflow-hidden shadow-2xl shadow-brand/20">
      <!-- Glow effect -->
      <div class="absolute -top-40 -right-40 w-80 h-80 bg-brand/20 rounded-full blur-3xl"></div>
      <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-brand/10 rounded-full blur-3xl"></div>
      <!-- Background pattern -->
      <div class="absolute inset-0 opacity-5" style="background-image: radial-gradient(circle at 1px 1px, currentColor 1px, transparent 0); background-size: 40px 40px;"></div>
      
      <div class="relative z-10 grid lg:grid-cols-2 gap-8 lg:gap-16 items-center">
        <!-- Left: Info -->
        <div>
          <h3 class="text-2xl md:text-3xl lg:text-4xl font-bold text-background dark:text-foreground mb-6">
            {t.cta.title}
          </h3>
          
          <div class="flex flex-wrap gap-6 mb-6">
            <div>
              <p class="text-xs text-background/60 dark:text-muted-foreground uppercase tracking-wider mb-1">{t.cta.budgetLabel}</p>
              <p class="text-lg md:text-xl font-semibold text-brand">{t.cta.subtitle}</p>
            </div>
            <div>
              <p class="text-xs text-background/60 dark:text-muted-foreground uppercase tracking-wider mb-1">{t.cta.timelineLabel}</p>
              <p class="text-lg md:text-xl font-semibold text-background dark:text-foreground">{t.cta.timeline}</p>
            </div>
          </div>
          
          <p class="text-background/80 dark:text-muted-foreground leading-relaxed">
            {t.cta.description}
          </p>
        </div>
        
        <!-- Right: CTA -->
        <div class="flex lg:justify-end">
          <a
            href={getWhatsAppLink('services', lang)}
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-3 px-8 py-4 bg-brand text-white rounded-full font-bold text-lg hover:bg-brand/90 hover:shadow-xl hover:shadow-brand/30 hover:scale-105 transition-all duration-300 group"
          >
            <span>{t.cta.button}</span>
            <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
