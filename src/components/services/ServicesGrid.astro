---
import { pricingData } from '../../data/pricing';
import { LottieIcon } from '../ui/LottieIcon';

const { lang } = Astro.props;
const services = pricingData[lang].services;

const iconPaths = [
  '/icon/web-developer.gif',
  '/icon/mobile.gif',
  '/icon/system.gif',
  '/icon/maintenance.gif',
];

const sectionContent = {
  id: {
    eyebrow: "Apa yang Kami Tawarkan",
    title: "Empat Pilar Transformasi Digital",
    subtitle: "Setiap bisnis adalah unik. Kami menawarkan empat layanan inti yang dapat disesuaikan dengan kebutuhan spesifik Anda.",
    cta: "Pelajari Lebih Lanjut"
  },
  en: {
    eyebrow: "What We Offer",
    title: "Four Pillars of Digital Transformation",
    subtitle: "Every business is unique. We offer four core services that can be tailored to your specific needs.",
    cta: "Learn More"
  }
};

const t = sectionContent[lang as keyof typeof sectionContent];
---

<section id="services-grid" class="py-24 md:py-32 lg:py-40 relative">
  <!-- Section divider -->
  <div class="absolute top-0 left-0 right-0 h-px bg-linear-to-r from-transparent via-border to-transparent"></div>
  <div class="absolute top-0 left-0 right-0 h-0.5 bg-linear-to-r from-transparent via-brand/20 to-transparent blur-sm"></div>
  
  <div class="container mx-auto px-4">
    <!-- Section Header -->
    <div class="max-w-4xl mb-16 md:mb-24">
      <span class="inline-block text-brand text-sm font-medium uppercase tracking-[0.2em] mb-4">
        {t.eyebrow}
      </span>
      <h2 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight text-foreground mb-6 leading-[1.1]">
        {t.title}
      </h2>
      <p class="text-lg md:text-xl text-muted-foreground leading-relaxed max-w-2xl">
        {t.subtitle}
      </p>
    </div>

    <!-- Services Grid - Premium Card Layout -->
    <div class="grid md:grid-cols-2 gap-6 md:gap-8">
      {services.items.map((service, index) => (
        <article class="group relative bg-card border border-border/50 rounded-2xl p-8 md:p-10 lg:p-12 shadow-lg shadow-foreground/5 hover:border-brand/30 hover:shadow-2xl hover:shadow-brand/10 hover:-translate-y-1 transition-all duration-500">
          <!-- Number indicator -->
          <div class="absolute top-8 right-8 md:top-10 md:right-10">
            <span class="text-6xl md:text-7xl lg:text-8xl font-bold text-foreground/[0.03] group-hover:text-brand/10 transition-colors duration-500">
              0{index + 1}
            </span>
          </div>
          
          <!-- Icon -->
          <div class="relative z-10 mb-8">
            <LottieIcon 
              src={iconPaths[index]} 
              className="w-20 h-20 md:w-24 md:h-24"
              client:only="react"
            />
          </div>
          
          <!-- Content -->
          <div class="relative z-10">
            <h3 class="text-xl md:text-2xl lg:text-3xl font-bold text-foreground mb-4 group-hover:text-brand transition-colors duration-300 leading-tight">
              {service.title}
            </h3>
            <p class="text-muted-foreground leading-relaxed mb-6 line-clamp-3">
              {service.body[0]}
            </p>
          </div>
        </article>
      ))}
    </div>
  </div>
</section>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
